# Manejo de dependencias en sistemas con entorno gestionado externamente
import sys
import subprocess

def install_faker_if_needed():
    """Instala Faker si no est치 disponible"""
    try:
        import faker
        return True
    except ImportError:
        print("Faker no encontrado, intentando instalaci칩n...")
        try:
            # Intentar instalaci칩n con --break-system-packages
            subprocess.check_call([
                sys.executable, "-m", "pip", "install", 
                "--break-system-packages", "faker"
            ])
            import faker
            return True
        except:
            print("Error: No se pudo instalar Faker autom치ticamente")
            print("Ejecute manualmente: pip3 install --break-system-packages faker")
            return False

# Verificar e instalar Faker si es necesario
if not install_faker_if_needed():
    sys.exit(1)
